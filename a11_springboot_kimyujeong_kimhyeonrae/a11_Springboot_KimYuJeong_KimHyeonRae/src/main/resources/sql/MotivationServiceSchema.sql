USE `SSAFIT`;

-- 동기부여 서비스 스키마

-- 목표 종류 테이블
DROP TABLE IF EXISTS `goal_type`;
CREATE TABLE `goal_type` (
	`goal_code` INT PRIMARY KEY,
    `goal_name` VARCHAR(20) NOT NULL UNIQUE
);

INSERT INTO `goal_type` (`goal_code`, `goal_name`)
VALUES (100, '체중'),
		(200, '체지방'),
        (300, '골격근'),
        (400, 'BMI'),
        (500, '기타');

-- 목표 테이블
DROP TABLE IF EXISTS `goal`;
CREATE TABLE `goal` (
    `goal_id` INT PRIMARY KEY AUTO_INCREMENT,          -- 목표 고유 ID
    `email` VARCHAR(50) NOT NULL UNIQUE,               -- 목표를 설정한 사용자, 카카오 API에 맞게 수정
    `name` VARCHAR(50) NOT NULL,
    `start_date` DATE NOT NULL,                        -- 시작 날짜
    `end_date` DATE NOT NULL,                          -- 종료 날짜
    `day` int NOT NULL,								   -- 일차수
    `goal_code` INT NOT NULL,                  		   -- 목표 종류
    `goal_description` TEXT NOT NULL,                  -- 목표 내용
    `text` TEXT NOT NULL,							   -- 문구
    `pledge` TEXT NOT NULL,                            -- 공약

    -- 외래 키 설정
    FOREIGN KEY (`goal_code`) REFERENCES `goal_type`(`goal_code`) ON DELETE CASCADE
);

-- 메시지 테이블
DROP TABLE IF EXISTS `message`;
CREATE TABLE `message` (
    `message_id` INT PRIMARY KEY AUTO_INCREMENT,       -- 메시지 고유 ID
    `receiver` VARCHAR(50) NOT NULL,                   -- 받는 사람, 카카오 API에 맞게 수정
    `sender` VARCHAR(50) NOT NULL,  	               -- 보낸 사람, 카카오 API에 맞게 수정 
    `sender_nickname` VARCHAR(20) NOT NULL,			   -- 보낸 사람 닉네임
    `goal_id` INT NOT NULL,                            -- 목표 ID (goal 테이블의 외래키)
    `content` TEXT NOT NULL,                           -- 메시지 내용
    `day` INT NOT NULL,                     		   -- 일차
    `stickerId` INT NOT NULL,						   -- 스티커

    -- 외래 키 설정
    FOREIGN KEY (`goal_id`) REFERENCES `goal`(`goal_id`) ON DELETE CASCADE
);

-- 랜덤 메시지 테이블
DROP TABLE IF EXISTS `random_message`;
CREATE TABLE `random_message` (
	`message_id` INT PRIMARY KEY AUTO_INCREMENT,
    `sender_nickname` varchar(3) DEFAULT '내챌도',
    `content` TEXT NOT NULL,
    `stickerId` INT NOT NULL
);

INSERT INTO `random_message` (`content`, `stickerId`) VALUES
('운동은 나 자신과의 약속입니다.', 1),
('오늘 땀 흘린 만큼 내일 더 강해집니다.', 2),
('꾸준함이 근육을 만들고, 의지가 한계를 넘습니다.', 3),
('작은 변화가 큰 결과를 만듭니다.', 4),
('건강은 최고의 투자입니다.', 5),
('오늘의 고통이 내일의 영광이 됩니다.', 1),
('한 걸음씩 나아가면 산도 넘을 수 있습니다.', 2),
('강한 의지가 강한 몸을 만듭니다.', 3),
('포기하지 않는 자만이 승리합니다.', 4),
('운동은 나를 가장 소중히 여기는 시간입니다.', 5),
('노력은 절대 배신하지 않습니다.', 1),
('운동은 내가 나에게 주는 선물입니다.', 2),
('오늘도 한계를 넘어보세요.', 3),
('지금의 땀이 미래의 성공을 만듭니다.', 4),
('건강한 몸에 건강한 정신이 깃듭니다.', 5),
('성공은 꾸준함에서 나옵니다.', 1),
('오늘 땀은 내일의 보상입니다.', 2),
('작은 한 걸음이 위대한 여정을 시작합니다.', 3),
('운동은 삶을 변화시키는 도구입니다.', 4),
('건강은 돈으로 살 수 없는 자산입니다.', 5),
('꾸준히 하다 보면 어느 순간 목표에 도달합니다.', 1),
('지금의 노력이 미래를 만듭니다.', 2),
('몸을 위한 1시간이 인생을 바꿀 수 있습니다.', 3),
('결과를 얻고 싶다면, 행동하세요.', 4),
('운동은 의지와 끈기의 시험장입니다.', 5),
('오늘 힘들수록 내일 더 강해질 겁니다.', 1),
('더 강해지기 위해 땀 흘리세요.', 2),
('운동은 스트레스를 이겨내는 최고의 방법입니다.', 3),
('시간은 핑계가 될 수 없습니다.', 4),
('매일 조금씩 더 나아가세요.', 5),
('목표는 멀어도 한 걸음씩 가까워집니다.', 1),
('포기하지 않는 것이 가장 큰 힘입니다.', 2),
('운동은 나와의 경쟁입니다.', 3),
('오늘의 노력은 미래의 당신을 빛나게 합니다.', 4),
('운동은 삶의 활력소입니다.', 5),
('땀은 거짓말을 하지 않습니다.', 1),
('몸이 힘들수록 정신이 강해집니다.', 2),
('운동은 내가 나를 응원하는 방식입니다.', 3),
('한계를 두지 마세요.', 4),
('지금의 고통이 내일의 보람입니다.', 5),
('강한 몸은 강한 정신에서 시작됩니다.', 1),
('움직일 수 있는 몸에 감사하세요.', 2),
('작은 한 걸음이 큰 변화를 가져옵니다.', 3),
('운동은 건강한 삶의 시작입니다.', 4),
('스스로를 위해 노력하세요.', 5),
('오늘 포기하지 마세요, 내일 더 강해질 수 있습니다.', 1),
('운동은 나를 더 나답게 만듭니다.', 2),
('노력 없는 결과는 없습니다.', 3),
('운동은 가장 효과적인 약입니다.', 4),
('오늘 땀이 흘러야 내일 웃을 수 있습니다.', 5),
('한 번의 포기는 결과를 멀리합니다.', 1),
('강한 몸은 나를 지킵니다.', 2),
('지금의 노력이 내일을 만듭니다.', 3),
('운동은 나를 성장시킵니다.', 4),
('포기하지 않는 마음이 강한 몸을 만듭니다.', 5),
('운동은 나 자신과의 끊임없는 대화입니다.', 1),
('지금의 작은 노력이 큰 변화를 만듭니다.', 2),
('건강은 선택이 아니라 필수입니다.', 3),
('매일 꾸준히, 조금씩 더 강해지세요.', 4),
('운동은 최고의 자기 계발입니다.', 5),
('오늘 포기하면 내일 후회합니다.', 1),
('한 걸음씩, 하지만 멈추지 마세요.', 2),
('운동은 나의 삶을 더 나은 방향으로 이끕니다.', 3),
('땀은 당신이 노력하고 있다는 증거입니다.', 4),
('건강한 몸은 성공의 발판입니다.', 5),
('운동은 당신 자신을 위한 선물입니다.', 1),
('몸을 변화시키면 마음도 변화합니다.', 2),
('오늘 땀은 내일의 기쁨이 됩니다.', 3),
('매일 조금씩 더 나아가세요.', 4),
('운동은 당신의 가능성을 증명합니다.', 5),
('건강은 모든 것을 가능하게 합니다.', 1),
('운동은 내 자신과의 약속을 지키는 일입니다.', 2),
('오늘의 노력이 내일의 당신을 만듭니다.', 3),
('꾸준함이 모든 것을 이깁니다.', 4),
('강한 몸은 모든 가능성을 열어줍니다.', 5),
('포기하지 않는 사람이 결국 승리합니다.', 1),
('건강은 성공의 첫걸음입니다.', 2),
('땀 흘릴 가치가 있는 일입니다.', 3),
('운동은 삶을 변화시키는 힘입니다.', 4),
('지금 시작하면 결과는 따라옵니다.', 5),
('몸이 변하면 삶이 변합니다.', 1),
('오늘도 자신을 이기세요.', 2),
('운동은 몸과 마음을 동시에 강화합니다.', 3),
('한 걸음씩 꾸준히 나아가세요.', 4),
('운동은 미래를 위한 투자입니다.', 5),
('건강은 삶의 모든 것을 바꿉니다.', 1),
('운동은 자기 자신을 위한 헌신입니다.', 2),
('오늘 더 나아지기 위해 노력하세요.', 3),
('몸은 당신의 삶의 집입니다.', 4),
('운동은 더 나은 나를 위한 첫걸음입니다.', 5);


commit;

SELECT * FROM `random_message`;
SELECT * FROM `goal`;
SELECT * FROM `message`;